(this.webpackJsonppoe=this.webpackJsonppoe||[]).push([[0],{30:function(e,t,a){e.exports=a(43)},35:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),u=(a(35),a(2)),i=a(25),s=a.n(i);function l(e){return r.a.createElement("select",{id:"include",multiple:!0,size:e.currencies.size,value:e.selected.map((function(e){return e.alias})),onChange:function(t){var a=Array.from(t.target.selectedOptions).map((function(e){return e.value})).map((function(t){return e.currencies.get(t)}));e.onChange(a)}},Array.from(e.currencies.values()).map((function(e){return e.toOption()})))}var m=a(21),h=a(16),f=a.n(h),b=a(26),p=a(49),g=a(50),d=a(48),v=a(47),y=a(27),O=a.n(y),E=a(7),C=a(8),j=a(28),k=[["alt","Orb of Alteration","CurrencyRerollMagic"],["fuse","Orb of Fusing","CurrencyRerollSocketLinks"],["alch","Orb of Alchemy","CurrencyUpgradeToRare"],["chaos","Chaos Orb","CurrencyRerollRare"],["gcp","Gemcutter's Prism","CurrencyGemQuality"],["exa","Exalted Orb","CurrencyAddModToRare"],["chrom","Chromatic Orb","CurrencyRerollSocketColours"],["jew","Jeweller's Orb","CurrencyRerollSocketNumbers"],["chance","Orb of Chance","CurrencyUpgradeRandomly"],["chisel","Cartographer's Chisel","CurrencyMapQuality"],["scour","Orb of Scouring","CurrencyConvertToNormal"],["blessed","Blessed Orb","CurrencyImplicitMod"],["regret","Orb of Regret","CurrencyPassiveSkillRefund"],["regal","Regal Orb","CurrencyUpgradeMagicToRare"],["divine","Divine Orb","CurrencyModValues"]],w=function(){function e(t,a,n){Object(E.a)(this,e),this.alias=t,this.name=a,this.image=n}return Object(C.a)(e,[{key:"toOption",value:function(){return r.a.createElement("option",{key:this.alias,value:this.alias,style:this.optionStyle},this.name)}},{key:"toImg",value:function(){return r.a.createElement("img",{src:this.imageUrl,alt:this.alias})}},{key:"imageUrl",get:function(){return"https://web.poecdn.com/image/Art/2DItems/Currency/".concat(this.image,".png?scale=1&w=1&h=1")}},{key:"optionStyle",get:function(){return{backgroundImage:"url('".concat(this.imageUrl,"')")}}}]),e}();w.comparator=function(e,t){return e.alias.localeCompare(t.alias)};var x=new Map(k.map((function(e){return Object(j.a)(w,Object(m.a)(e))})).map((function(e){return[e.alias,e]}))),S=function(){function e(t,a){Object(E.a)(this,e),this.value=t,this.currency=a}return Object(C.a)(e,[{key:"toString",value:function(){return"".concat(this.value," ").concat(this.currency.alias)}}]),e}(),R=function(){function e(t,a,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(E.a)(this,e),this.currency=t,this.base=a,this.rate=n,this.amount=r}return Object(C.a)(e,[{key:"next",value:function(){this.amount+=1}},{key:"toBaseValue",value:function(){return new S(this.chaos,this.base)}},{key:"toValue",value:function(){return new S(this.amount,this.currency)}},{key:"chaos",get:function(){return this.amount*this.rate},set:function(e){this.amount=Math.ceil(e/this.rate)}}]),e}();R.comparator=function(e,t){return e.chaos-t.chaos||w.comparator(e.currency,t.currency)};var N=f.a.mark(U);function A(e){return r.a.createElement("td",null,e.value," ",e.currency.toImg()," ",e.currency.name)}function L(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],o=a[1],i=function(){var t=Object(b.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.clipboard.writeText(e.text);case 2:o(!0),setTimeout((function(){return o(!1)}),1e3);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("td",{className:"copy-button",onClick:i},r.a.createElement("span",{role:"img","aria-label":"Copy"},"\ud83d\udccb"),r.a.createElement(p.a,{in:c,timeout:200,classNames:"tooltip",unmountOnExit:!0},r.a.createElement("span",{className:"tooltip-text"},"copied")))}function M(e){return r.a.createElement("tr",{key:"".concat(e.value.currency.alias,"-").concat(e.value.value)},r.a.createElement(A,{value:e.base.value.toFixed(2),currency:e.base.currency}),r.a.createElement(A,e.value),r.a.createElement(L,{text:"~price ".concat(e.value.toString())}))}function U(e){var t,a,n,r,c,o,i;return f.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=e.base,a=Object(u.a)(e.range,2),n=a[0],r=a[1],c=e.selected.map((function(a){return new R(a,t,e.rates[a.alias])})),0!==n&&c.forEach((function(e){return e.chaos=n})),o=O.a.from(c,R.comparator);case 5:if(!((i=o.pop()).chaos>r)){s.next=9;break}return s.abrupt("break",15);case 9:return s.next=11,{base:i.toBaseValue(),value:i.toValue()};case 11:i.next(),o.push(i),s.next=5;break;case 15:case"end":return s.stop()}}),N)}function I(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){var t=Object(d.a)(U(e)).pipe(Object(v.a)((function(e,t){return[].concat(Object(m.a)(e),[t])}),[])).subscribe(o,(function(e){return console.error(e)}));return function(){t.unsubscribe(),o([])}}),[e]),r.a.createElement("table",{id:"currencies"},r.a.createElement("thead",null,r.a.createElement("tr",null,["Chaos","Currency",""].map((function(e){return r.a.createElement("th",{key:e},e)})))),!e.isLoading&&r.a.createElement("tbody",null,r.a.createElement(g.a,{component:null},c.map((function(e){var t=e.base,a=e.value;return r.a.createElement(p.a,{key:a.toString(),timeout:300,classNames:"row"},r.a.createElement(M,{base:t,value:a}))})))))}function T(e){var t=Object(u.a)(e.range,2),a=t[0],n=t[1],c=function(t){"from"===t.target.id?a=t.target.valueAsNumber:"to"===t.target.id&&(n=t.target.valueAsNumber),e.onChange([a,n])};return r.a.createElement("div",{className:"group"},r.a.createElement("input",Object.assign({type:"number",value:a,onChange:c,id:"from",placeholder:"from"},e.from)),r.a.createElement("span",{className:"gap"},"\xf7"),r.a.createElement("input",Object.assign({type:"number",value:n,onChange:c,id:"to",placeholder:"to"},e.to)))}function B(e){var t=Object(u.a)(e.range,2),a=t[0],n=t[1],c=(a+n)/2,o=(n-a)/2,i=function(t){"value"===t.target.id?c=t.target.valueAsNumber:"delta"===t.target.id&&(o=t.target.valueAsNumber);var a=[c-o,c+o];e.onChange(a)};return r.a.createElement("div",{className:"group"},r.a.createElement("input",Object.assign({type:"number",value:c,onChange:i,id:"value",placeholder:e.baseAlias},e.value)),r.a.createElement("span",{className:"gap"},"\xb1"),r.a.createElement("input",Object.assign({type:"number",value:o,onChange:i,id:"delta",placeholder:"delta"},e.delta)))}var V={league:"Standard",item:"Perandus Coin"},P=function(e){var t=Object.assign(V,e),a=new URLSearchParams(t).toString(),r=function(e){var t=Object(n.useState)({isLoading:!0,data:null}),a=Object(u.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){c({isLoading:!0,data:null}),fetch(e).then((function(e){return e.json()})).then((function(e){c({isLoading:!1,data:e})})).catch((function(){c({isLoading:!1,data:null})}))}),[e]),r}("https://func-poe.azurewebsites.net/api/GetRates?".concat(a));return{isLoading:r.isLoading,rates:r.data}};function z(){var e={value:{min:0,max:1e3,step:1},delta:{min:0,max:1,step:.1},from:{min:0,max:1e3,step:1},to:{min:0,max:1e3,step:1}},t=x.get("chaos"),a=Object(n.useState)(Array.from(x.values())),c=Object(u.a)(a,2),o=c[0],i=c[1],m=Object(n.useState)([0,1]),h=Object(u.a)(m,2),f=h[0],b=h[1],p=P({user:"nikibobi"}),g=p.isLoading,d=p.rates;return r.a.createElement(r.a.Fragment,null,r.a.createElement("aside",null,r.a.createElement(l,{selected:o,onChange:i,currencies:x}),r.a.createElement(B,{range:f,onChange:b,value:e.value,delta:e.delta,baseAlias:t.alias}),r.a.createElement(T,{range:f,onChange:b,from:e.from,to:e.to})),r.a.createElement("section",null,r.a.createElement(I,{isLoading:g,base:t,selected:o,range:f,rates:d})),r.a.createElement(s.a,{href:"https://github.com/nikibobi/poe",bannerColor:"#fff",octoColor:"#0b0207"}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[30,1,2]]]);
//# sourceMappingURL=main.e684cfa8.chunk.js.map